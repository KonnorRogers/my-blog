{"componentChunkName":"component---src-templates-blog-post-js","path":"/javascript/webpackDevServerLiveReloading/","result":{"data":{"site":{"siteMetadata":{"title":"Konnor's Blog","author":"Konnor Rogers"}},"markdownRemark":{"id":"516313be-44aa-5b36-8cc5-36cc4f853d2d","excerpt":"Quick Start Reference Repository Add the following configuration in your root directory and it will allow for\nlive reloading as well as automatically opening…","html":"<h2>Quick Start</h2>\n<p><a href=\"https://github.com/paramagicdev/TicTacToeJS\">Reference Repository</a></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> init <span class=\"token comment\"># if it's a new project</span>\n\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> webpack webpack-cli webpack-dev-server</code></pre></div>\n<p>Add the following configuration in your root directory and it will allow for\nlive reloading as well as automatically opening the default browser</p>\n<p><a href=\"https://github.com/paramagicdev/TicTacToeJS/blob/master/webpack.config.js\">Reference Webpack Config</a></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// webpack.config.js</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  entry<span class=\"token operator\">:</span> <span class=\"token string\">\"./src/index.js\"</span><span class=\"token punctuation\">,</span>\n  output<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    path<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"dist\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    filename<span class=\"token operator\">:</span> <span class=\"token string\">\"bundle.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  devServer<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    open<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    publicPath<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n    contentBase<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"dist\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    watchContentBase<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    compress<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Then running <code class=\"language-text\">npx webpack-dev-server</code> will automatically open the default web\nbrowser and allow automatic browser refreshing on file changes.</p>\n<h2>In depth explanation</h2>\n<p>Alright, so there’s a few assumptions when creating this configuration.</p>\n<h3>File structure:</h3>\n<div class=\"gatsby-highlight\" data-language=\"project\"><pre class=\"language-project\"><code class=\"language-project\">dist/\n|-- style.css\n|-- index.html\nsrc/\n|-- index.js</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">// dist/index.html\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token comment\">&lt;!-- Name of your webpack bundle --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>./bundle.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>It is important that the script you source, <code class=\"language-text\">&lt;script src=&quot;./bundle.js&gt;&lt;/script&gt;&quot;</code>\nis the same path as what is output by webpack in your <code class=\"language-text\">webpack.config.js</code> file</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Resolves to './dist/bundle.js'</span>\n  output<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    path<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"dist\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    filename<span class=\"token operator\">:</span> <span class=\"token string\">\"bundle.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>This is important because webpack-dev-server saves your new bundle into memory\nand does not actually build a new <code class=\"language-text\">bundle.js</code> in your <code class=\"language-text\">dist/</code> directory.</p>\n<h3>DevServer configuration</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// webpack.config.js</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Above code omitted for brevity</span>\n  devServer<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    open<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// Tells webpack-dev-server to open your default browser</span>\n    publicPath<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// Where your webpack bundle will be sent to</span>\n    contentBase<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"dist\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// Where your static files are, ie: index.html</span>\n    watchContentBase<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// Enable live-reloading</span>\n    compress<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// no real significance here</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Alright, lets go through line by line</p>\n<ul>\n<li><code class=\"language-text\">open: true</code> : Tells webpack-dev-server to automatically open the browser to the\npath provided by <code class=\"language-text\">contentBase</code>.</li>\n<li><code class=\"language-text\">publicPath: &quot;&quot;</code> : This tells webpack where to send the bundle to. In this case, just set it to the current directory. This is prepended to</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">output<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  path<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'dist'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  filename<span class=\"token operator\">:</span> <span class=\"token string\">'bundle.js'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>So if publicPath was set to <code class=\"language-text\">&quot;dist/&quot;</code>, then in that case, your <code class=\"language-text\">bundle.js</code> file\nwould be in <code class=\"language-text\">./dist/dist/bundle.js</code> instead of <code class=\"language-text\">./dist/bundle.js</code>. Yes, it’s confusing. I know, it tripped me up for a while.</p>\n<ul>\n<li><code class=\"language-text\">contentBase: path.resolve(__dirname, &quot;dist&quot;)</code> : This tells webpack-dev-server\nwhat files to watch. This should be where your static files are. IE: index.html,\nstyle.css, etc.., basically, anything that webpack does not touch when bundling.</li>\n<li><code class=\"language-text\">watchContentBase: true</code> : This enables live-reloading, this auto-refreshes\nthe browser.</li>\n</ul>\n<p>In my <a href=\"https://github.com/ParamagicDev/TicTacToeJS\">Tic Tac Toe Repo</a> I see\nthe following output:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ℹ ｢wds｣: Project is running at http://localhost:8080/\nℹ ｢wds｣: webpack output is served from /\nℹ ｢wds｣: Content not from webpack is served from /home/krog/odin-project/javascript/TicTacToeJS/dist\n<span class=\"token comment\">### Below code omitted</span></code></pre></div>\n<p>This is telling me, if I open up <code class=\"language-text\">http://localhost:8080</code> it will automatically\ndisplay <code class=\"language-text\">&#39;/index.html&#39;</code> for me. Webpack output is set to <code class=\"language-text\">/bundle.js</code> Both files\nwill have <code class=\"language-text\">dist/</code> prepended to them because that is the directory that we are opening.</p>\n<p>Yes. I know. Confusing.<br><br>\nPlay around with my repo, play with the config.\nRead the <a href=\"https://webpack.js.org/configuration/dev-server/\">webpack-dev-server documentation</a>. Eventually it will click. Best of luck learning webpack!<br><br>\nIf you have any questions feel free to email me: Konnor7414@gmail.com</p>","frontmatter":{"title":"JS - How to configure webpack-dev-server live-reloading","date":"October 10, 2019","description":"In this post, I will go over how to configure webpack and webpack-dev-server to allow for live-reloading similar to live-server"}}},"pageContext":{"slug":"/javascript/webpackDevServerLiveReloading/","previous":{"fields":{"slug":"/javascript/usingJestWithImportAndExport/"},"frontmatter":{"title":"JS - Using Jest with Import and Export statements"}},"next":{"fields":{"slug":"/javascript/tailwindWebpackPostCSS/"},"frontmatter":{"title":"How to setup TailwindCSS with PostCSS and Webpack"}}}}}