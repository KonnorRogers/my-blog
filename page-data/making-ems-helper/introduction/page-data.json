{"componentChunkName":"component---src-templates-blog-post-js","path":"/making-ems-helper/introduction/","result":{"data":{"site":{"siteMetadata":{"title":"Konnor's Blog","author":"Konnor Rogers"}},"mdx":{"id":"6eea9c4a-f99c-5375-9a8c-0abe12de4177","excerpt":"Tech Stack Ruby on Rails v6.0.1 Ruby 2.6.3 Explanation I am most familiar with Ruby on Rails and therefore felt I would be most\nproductive using Ruby on Railsâ€¦","frontmatter":{"title":"Making EMS Helper - Introduction","date":"December 05, 2019"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Making EMS Helper - Introduction\",\n  \"date\": \"2019-12-05T05:07:36\",\n  \"description\": \"This is the beginning of EMS Helper. A service meant to provide people with the ability to quickly locate the closest appropriate hospital.\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", null, \"Tech Stack\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Ruby on Rails v6.0.1\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Ruby 2.6.3\")), mdx(\"h3\", null, \"Explanation\"), mdx(\"p\", null, \"I am most familiar with Ruby on Rails and therefore felt I would be most\\nproductive using Ruby on Rails for this project\"), mdx(\"h2\", null, \"Deployment\"), mdx(\"p\", null, \"I still have not decided between a self host option like Linode / DigitalOcean\\nor letting Heroku handle it for me. As this is a small personal project, and I would\\nlike to get a feel for DevOps I will most likely be self hosting using DigitalOcean / Linode\\ncombined with Docker containers.\"), mdx(\"h2\", null, \"Scope\"), mdx(\"p\", null, \"I plan for this to be very limited scope. Very simply, I plan to have a database\\nof every hospital. Each hospital will have an address and series of boolean\\nvalues as to its capabilities. The biggest challenge will be\\naggregating the appropriate data.\"), mdx(\"h2\", null, \"Data aggregation\"), mdx(\"p\", null, \"Data aggregation seems to be the biggest challenge, thankfully someone has already\\nsomewhat solved this problem.\", mdx(\"br\", null), \"\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://hifld-geoplatform.opendata.arcgis.com/datasets/hospitals\"\n  }), \"https://hifld-geoplatform.opendata.arcgis.com/datasets/hospitals\"), \"\\nThe Homeland Infrastructure Foundation has aggregated all hospitals in the 50 states\\nvia each individual state department. They even have an easy to use API as well\\nas the added bonus of Trauma levels.\"), mdx(\"p\", null, \"Unfortunately, they do not have things such as Stroke Centers, Cath labs, and various\\npoint of entry capabilites. I will most likely be creating a scraper using Nokogiri to get this information from\\neach individual states respective website.\"), mdx(\"p\", null, \"In addition, I plan to have a form for users to submit for review the addition of a new\\nhospital. I will most likely have to add a sign in system at some point\\nshould this project gain any traction.\"), mdx(\"h2\", null, \"Geocoding\"), mdx(\"p\", null, \"What is geocoding? Geocoding and geolocation a way of quantifying a longitude\\nand latitude location for any given location.\", mdx(\"br\", null), \"\\nGeocoding and geolocation will be the basis of using a user\\u2019s current location and searching the radius\\nfor the closest appropriate facility. This is a big part of this project\", mdx(\"br\", null)), mdx(\"p\", null, \"Again, this is another solved problem. Initially I had thought Google Maps was the only option,\\non further review there is a lovely RubyGem called \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/alexreisner/geocoder\"\n  }), \"Geocoder\"), \"\\nwhich aggregates multiple APIs. I have not dug into what service it would call out to\\nas currently this is a tightly scoped project with no plans of hitting API request limits.\"), mdx(\"h2\", null, \"Database backups\"), mdx(\"p\", null, \"I have not settled on any particular service for database backups yet.\\nIt is a consideration I have and it is worth noting. The database plans to be fairly\\nstatic, however, it\\u2019s always good to be prepared.\"), mdx(\"p\", null, \"As of now, the easiest option seems to set up a cron job to backup the database using\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pg_dump\"), \" and then sending that file to a remote server maybe like an AWS S3 bucket?\"), mdx(\"p\", null, \"Alternatively, I found this github repo \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/fastmonkeys/stellar\"\n  }), \"https://github.com/fastmonkeys/stellar\"), \"\\nwhich appears to be a faster alternative to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pg_dump\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pg_restore\"), \". I still have not\\nsettled on a good option but as this fleshes out it will become important\"), mdx(\"h2\", null, \"Error Tracking\"), mdx(\"p\", null, \"Sentry. Need I say more? Sentry is great its raved about, I may even integrate\\nwith LogRocket. Again, future problem, not needed right away.\"), mdx(\"h2\", null, \"CI / CD Pipeline\"), mdx(\"p\", null, \"Yes, its a small project, but following best practices is not a bad thing.\\nCurrently, I plan on using github actions as my CI / CD. Setting up Jenkins / Travis / CircleCI\\nseems like more headache than using an integrated option.\"), mdx(\"h2\", null, \"Using docker-compose\"), mdx(\"p\", null, \"As part of any good CI / CD pipeline, ideally I should be using Docker / containerization.\\nI have setup my docker-compose and Dockerfile in my repo to be used to provide a reproducible\\nenvironment. Unfortunately, I feel docker local development needs a little work,\\nbut it definitely has its place in a CI / CD pipeline for sure as well as providing\\na starting point for new users.\"), mdx(\"h2\", null, \"Donations!\"), mdx(\"p\", null, \"Its important to make sure that this can at least be self sustainable. I plan to\\ncreate a donations page which integrates with Stripe / Paypal to allow people to keep\\nthe lights on!\"), mdx(\"h2\", null, \"Closing thoughts\"), mdx(\"p\", null, \"EMS Helper plans to be a free service which will take donations in order to keep the service running. I currently do not have plans to make it a paid service. In addition, you can follow along with my progress on the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/ParamagicDev/ems_helper/tree/development\"\n  }), \"development branch on Github.\")));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"slug":"/making-ems-helper/introduction/","previous":{"id":"33a40e1a-72a2-505e-a564-42ab61617b24","fields":{"slug":"/misc/postgresql-password-reset/"},"frontmatter":{"title":"PostgresQL - Setting up postgres on a local environment"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"PostgresQL - Setting up postgres on a local environment\",\n  \"date\": \"2019-11-24T20:59:03\",\n  \"description\": \"I will detail a short and easy way to get PostgresQL running on a Ubuntu based machine for local development.\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", null, \"Purpose\"), mdx(\"p\", null, \"Setting up a database for the first time is never any fun. In this short post I will detail how I have come to setup PostgresQL for local development environments.\"), mdx(\"h3\", null, \"Quick Start\"), mdx(\"h4\", null, \"WARNING:\"), mdx(\"p\", null, \"This will change all instances of /etc/postgresql/\", \"*\", \"/main/pg_hba.conf auth options to \\u2018trust\\u2019 \", mdx(\"br\", null)), mdx(\"p\", null, \"Proceed with caution:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"git clone https://github.com/ParamagicDev/config-files.git ~/paramagic-config-files\\ncd ~/paramagic-config-files\\n./scripts/postgres-setup.sh\\n./scripts/postgres-pass-reset.sh\\n\\npsql -U postgres\\n\\n# This will drop you into a postgres instance as the admin\\n$ alter user postgres with password 'YOUR SNAZZY PASSWORD';\\n$ \\\\q\\n\\n# This will make postgres require a password in order\\n# to be instantiated\\n./scripts/postgres-md5-require.sh\\n\")), mdx(\"h3\", null, \"Explanation\"), mdx(\"p\", null, \"Okay, I\\u2019m assuming you read the quick start, saw the warnings, and decided\\nto read a little more about whats happening in these scripts.\"), mdx(\"h4\", null, \"Installation scripts\"), mdx(\"h5\", null, mdx(\"a\", _extends({\n    parentName: \"h5\"\n  }, {\n    \"href\": \"https://github.com/ParamagicDev/config-files/tree/master/scripts\"\n  }), \"My PostgresQL scripts\")), mdx(\"p\", null, \"The contents of these scripts was partially stolen from the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/docker-library/postgres/blob/4a82eb932030788572b637c8e138abb94401640c/12/Dockerfile\"\n  }), \"Official PostgresQL Dockerfile\")), mdx(\"p\", null, \"So what does this script do?\"), mdx(\"p\", null, \"Well first let me show you the contents.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"#!/bin/bash\\n\\n# postgres-setup.sh\\npg_user=\\\"postgres\\\"\\npg_dir=\\\"/var/lib/postgresql\\\"\\npg_data=\\\"/var/lib/postgresql/data\\\"\\n\\n# Installs postgresql\\nsudo apt update && sudo apt install \\\\\\n  postgresql postgresql-contrib postgresql-common libpq-dev -y\\n\\n# Creates the postgres user and postgres group\\nsudo groupadd \\\"$pg_user\\\"\\nsudo useradd -r -g \\\"$pg_user\\\" --home-dir=\\\"$pg_dir\\\" --shell=/bin/bash \\\"$pg_user\\\"\\n\\nsudo mkdir -p \\\"$pg_dir\\\"\\nsudo chown -R \\\"$pg_user\\\":\\\"$pg_user\\\" \\\"$pg_dir\\\"\\n\\nsudo mkdir -p \\\"$pg_dir\\\" && sudo chown -R \\\"$pg_user\\\":\\\"$pg_user\\\" \\\"$pg_dir\\\" && \\\\\\n  sudo chmod 2777 /var/run/postgresql\\n\\n\\n# this 777 will be replaced by 700 at runtime (allows semi-arbitrary \\\"--user\\\" values)\\nsudo mkdir -p \\\"$pg_data\\\" \\\\\\n  && sudo chown -R \\\"$pg_user\\\":\\\"$pg_user\\\" \\\"$pg_data\\\" \\\\\\n  && sudo chmod 777 \\\"$pg_data\\\"bash\\n\")), mdx(\"p\", null, \"Basically, this script says:\", mdx(\"br\", null)), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Download postgres from the apt repository (default debian based package manager)\"), mdx(\"br\", null)), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Then after downloading postgres, create a user for the postgres database named \\u201Cpostgres\\u201D\"), mdx(\"br\", null)), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Create the appropriate directories and change the read / write / execute properties of each directory based on the offical PostgresQL Dockerfile.\"), mdx(\"br\", null))), mdx(\"p\", null, \"In a nutshell, thats all that the script does.\"), mdx(\"p\", null, \"Now, you can try logging into the database from the command line.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"psql -U postgres\\n\")), mdx(\"p\", null, \"This probably will not work due to permissions set in a file called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pg_hba.conf\")), mdx(\"p\", null, \"For me, this file was located on my Ubuntu 18.10 & 19.04 machines in the location:\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/etc/postgresql/<version-number>/main/pg_hba.conf\")), mdx(\"p\", null, \"So heres where things get tricky. You may have previously setup a password youve forgotten, maybe theres something weird going on and you cant get into the database, anythings possible.\"), mdx(\"p\", null, \"If you checked out the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pg_hba.conf file\"), \" you\\u2019ll see a setup similar to this:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-conf\"\n  }), \"# ... above code omitted for brevity\\n# Database administrative login by Unix domain socket\\nlocal   all             postgres                                peer\\n\\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\\n\\n# \\\"local\\\" is for Unix domain socket connections only\\nlocal   all             all                                     peer\\n# IPv4 local connections:\\nhost    all             all             127.0.0.1/32            md5\\n# IPv6 local connections:\\nhost    all             all             ::1/128                 md5\\n# Allow replication connections from localhost, by a user with the\\n# replication privilege.\\n#local   replication     postgres                                peer\\n#host    replication     postgres        127.0.0.1/32            peer\\n#host    replication     postgres        ::1/128                 peer\\n\")), mdx(\"p\", null, \"Without getting too technical, the very last column of each row decides the\\nauthentication option you would like to use. If for some reason you cannot\\nget access to your database, there may be a password set for the user that\\nyou don\\u2019t know.\"), mdx(\"p\", null, \"The easiest way to fix this is to change all options in the last column to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"trust\")), mdx(\"p\", null, \"I made a script specifically for changing the options in the last column to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"trust\")), mdx(\"h4\", null, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"https://github.com/ParamagicDev/config-files/blob/master/scripts/postgres-pass-reset.sh\"\n  }), \"Change to trust script\")), mdx(\"p\", null, \"Now you can go in and change the password for the user to whatever you would like it to be.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"psql -U postgres\\n\\n# drops you into a postgres instance\\n-> alter user postgres with password 'NEW_PASSWORD'\\\"\\n-> \\\\q\\n\")), mdx(\"p\", null, \"This will change password of the user \\u2018postgres\\u2019 to the value of \\u2018NEW_PASSWORD\\u2019\"), mdx(\"p\", null, \"Now if you would like to lock your database back down I created a script for that as well!\"), mdx(\"h4\", null, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"https://github.com/ParamagicDev/config-files/blob/master/scripts/postgres-md5-require.sh\"\n  }), \"Reset auth options to md5 script\")), mdx(\"p\", null, \"This will now require a password everytime you attempt to login.\"), mdx(\"h3\", null, \"Additional notes\"), mdx(\"p\", null, \"If you don\\u2019t want to use my scripts you can manually edit your\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/etc/postgresql/<version_number>/main/pg_hba.conf\"), \" to reflect the options you would like.\"), mdx(\"p\", null, \"Be careful with this, as for me I\\u2019m using postgresql version 11.5, however, when editing\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/etc/postgresql/11/main/pg_hba.conf\"), \" It did not properly reflect my settings.\"), mdx(\"p\", null, \"I had to edit \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/etc/postgresql/9.5/pg_hba.conf\"), \" which is the reason my scripts will change\\nthe value of the auth method in all \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/etc/postgresql/<version-number>/pg_hba.conf\"), \" files\"), mdx(\"h3\", null, \"Closing thoughts\"), mdx(\"p\", null, \"Setting up a database is never fun which is why I now always try to script the process.\\nThis one had me stumped for a whole day before I came across the relevant articles. I hope\\nthis article can help you as much as it helped me! Have a fantastic day.\"), mdx(\"p\", null, \"Any questions feel free to email me: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"mailto:Konnor7414@gmail.com\"\n  }), \"Konnor7414@gmail.com\")), mdx(\"p\", null, \"I don\\u2019t claim to know all, and I don\\u2019t even work as a software developer fulltime\\u2026(yet)\\nI\\u2019m sure I made some errors and some mistakes. Feel free to correct me and I will update the article\"), mdx(\"p\", null, \"Setting up a database is never fun which is why I now always try to script the process.\\nThis one had me stumped for a whole day before I came across the relevant articles. I hope\\nthis article can help you as much as it helped me! Have a fantastic day.\"), mdx(\"p\", null, \"Any questions feel free to email me: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"mailto:Konnor7414@gmail.com\"\n  }), \"Konnor7414@gmail.com\")), mdx(\"p\", null, \"I don\\u2019t claim to know all, and I don\\u2019t even work as a software developer fulltime\\u2026(yet)\\nI\\u2019m sure I made some errors and some mistakes. Feel free to correct me and I will update the article.\"), mdx(\"h3\", null, \"Links\"), mdx(\"h4\", null, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"https://github.com/ParamagicDev/config-files/tree/master/scripts\"\n  }), \"My config-files repo with postgres scripts\")), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.postgresql.org/\"\n  }), \"PostgresQL Homepage\"), \"\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/docker-library/postgres/blob/4a82eb932030788572b637c8e138abb94401640c/12/Dockerfile\"\n  }), \"PostgresQL Dockerfile\")), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://enterprise.arcgis.com/en/server/10.3/cloud/amazon/change-default-database-passwords-on-linux.htm\"\n  }), \"Where I found the sed scripts\")), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://stackoverflow.com/questions/4494336/how-do-you-store-a-list-of-directories-into-an-array-in-bash-and-then-print-the\"\n  }), \"How I figured out how to put multiple directories into a bash array\")));\n}\n;\nMDXContent.isMDXComponent = true;"},"next":{"id":"41591c16-1072-54e8-b83a-9e74968b71ba","fields":{"slug":"/making-ems-helper/setting-up/"},"frontmatter":{"title":"Making EMS Helper - Setting up"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Making EMS Helper - Setting up\",\n  \"date\": \"2019-12-08T22:40:37\",\n  \"description\": \"Detailing the initial setup of EMS Helper with Rails 6, Webpack, TailwindCSS, Docker, and Docker-Compose\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", null, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"https://github.com/ParamagicDev/ems_helper/tree/cd623419d8c885cac66c1d3e6fa0f8507d35b686\"\n  }), \"Github Repo\")), mdx(\"h2\", null, \"Creating a Rails 6 app\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"rails new ems_helper --database=postgresql\")), mdx(\"p\", null, \"This will generate the initial project structure. I will be using postgresql as my database.\"), mdx(\"h3\", null, \"Adding .env files\"), mdx(\"p\", null, \"I added the .env file as well the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"dotenv-rails\"), \" gem to allow the use\\nof the .env files to allow for easy local development for things that requires\\nlogins or API keys.\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/ParamagicDev/ems_helper/blob/master/Gemfile\"\n  }), \"My gemfile\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-ruby\"\n  }), \"# Gemfile\\n\\n# ...\\n# Make sure it is the first gem added. This way gems that require privileges\\n# can inherit from dotenv-rails\\ngem 'dotenv-rails', groups: %i[development test]\\n# ...\\n\")), mdx(\"h2\", null, \"Docker\"), mdx(\"p\", null, \"First things first, setup a Dockerfile in the root directory.\"), mdx(\"h3\", null, \"Adding Dockerfile\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/ParamagicDev/ems_helper/blob/master/Dockerfile\"\n  }), \"My Dockerfile\")), mdx(\"p\", null, \"Basically, pull in Ruby 2.6.3, add nodejs, and add all packages is what this Dockerfile does.\"), mdx(\"h3\", null, \"Setting up docker-compose\"), mdx(\"p\", null, \"docker-compose is a utility provided by Docker to pull in various components.\"), mdx(\"p\", null, \"IE: Redis, Memcache, caching layer, PostgresQL, MySQL, MonogoDB databases, and various\\nother web components.\"), mdx(\"p\", null, \"Here is a link to my \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/ParamagicDev/ems_helper/blob/master/docker-compose.yml\"\n  }), \"docker-compose.yml\"), \" file which pulls in PostgresQL.\"), mdx(\"p\", null, \"I pulled most of this config off the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.docker.com/compose/rails/\"\n  }), \"Docker official documentation\"), \".\"), mdx(\"h3\", null, \"Docker-compose commands\"), mdx(\"p\", null, \"Before we get into building the project, let\\u2019s take a look at some basic commands:\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"docker-compose down\"), \" to bring down the container\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"docker-compose up --build\"), \" rebuilds the container if you make changes.\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"docker-compose run web <command>\"), \" will run the commands from inside the container.\"), mdx(\"p\", null, \"If for some reason the items listed below do not work, try resetting the container.\"), mdx(\"p\", null, \"Also, if you add something to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Gemfile\"), \", to update the container you must do the following:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"docker-compose run web bundle install\\ndocker-compose down\\n\\n# You must rebuild the container because the Gemfile.lock has been updated as well\\ndocker-compose up --build\\n\")), mdx(\"h3\", null, \"Setting up Rails with docker-compose\"), mdx(\"p\", null, \"Alright time to start everything up.\"), mdx(\"p\", null, \"Run a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"docker-compose up --build\"), \".\\nThen run the following inside a seperate terminal once that has all finished\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"docker-compose run --rm web rails db:setup\\n\")), mdx(\"br\", null), mdx(\"br\", null), mdx(\"p\", null, \"You will most likely run into an issue with postgres.\\nTo fix this, navigate to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"./config/database.yml\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-yaml\"\n  }), \"default: &default\\n  adapter: postgresql\\n  encoding: unicode\\n  host: <%= ENV['PG_HOST'] %>\\n  username: <%= ENV['PG_USER'] %>\\n  password: <%= ENV['PG_PASSWORD'] %>\\n  pool: 5\\n\\ndevelopment:\\n  <<: *default\\n  database: myapp_development\\n\\ntest:\\n  <<: *default\\n  database: myapp_test\\n\")), mdx(\"br\", null), mdx(\"br\", null), mdx(\"p\", null, \"Now here\\u2019s where it gets a little tricky.\", mdx(\"br\", null), \"\\nIn the root directory, create a file called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".env\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"# .env\\n\\nPG_USER='postgres'\\n\\n# Docker does not use a password on the container for local development\\nPG_PASSWORD=''\\n\\n# Change this to '' if not using docker. I have also set this manually inside of\\n# the docker-compose.yml file.\\nPG_HOST='db'\\n\")), mdx(\"br\", null), mdx(\"br\", null), mdx(\"p\", null, \"Docker documentation says to use \\u2018db\\u2019 as the host in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"database.yml\"), \" file.\", mdx(\"br\", null), \"\\nYou will run into an error if you do not do this. I spent over 2 hours debugging this.\\nNot a fun time.\"), mdx(\"p\", null, \"Now, you should be able to create the database!\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"# equivalent to rails db:create && rails db:migrate && rails db:seed\\ndocker-compose run --rm web rails db:setup\\n\")), mdx(\"br\", null), mdx(\"br\", null), mdx(\"p\", null, \"Finally, in your browser navigate to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"localhost:3000\")), mdx(\"p\", null, \"The \\u201CHello, Welcome to Rails\\u201D page should appear!\"), mdx(\"h4\", null, \"Permissions Errors\"), mdx(\"p\", null, \"If on Linux, for me there are some permissions issues with Docker. \", mdx(\"br\", null), \"\\nEnsure to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"chown -R .\"), \" from the root directory after using Docker if you run into\\npermissions issues\"), mdx(\"h3\", null, \"Adding TailwindCSS\"), mdx(\"p\", null, \"I really enjoy using \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://tailwindcss.com\"\n  }), \"TailwindCSS\"), \" so I added it into\\nthe application.\"), mdx(\"p\", null, \"There\\u2019s a few steps to this.\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yarn add tailwindcss\"), \" - add the tailwindcss node module\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Then, create a tailwind stylesheet called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"./app/javascript/stylesheets/tailwind.scss\"), \"\\nAdd the base classes.\"))), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-scss\"\n  }), \"// app/javascript/stylesheets/tailwind.css\\n@import \\\"tailwindcss/base\\\";\\n@import \\\"tailwindcss/components\\\";\\n@import \\\"tailwindcss/utilities\\\";\\n\")), mdx(\"br\", null), mdx(\"br\", null), mdx(\"ol\", {\n    \"start\": 3\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Inside \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"./app/javascript/packs/application.js\"), \" add the following require statement.\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"// app/javascript/packs/application.js\\n\\n// ...\\nrequire(\\\"stylesheets/tailwind.scss\\\")\\n// ...\\n\")), mdx(\"br\", null), mdx(\"br\", null), mdx(\"ol\", {\n    \"start\": 4\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Finally, inside of \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"./app/views/layouts/application.html.erb\"))), mdx(\"p\", null, \"Add a stylesheet pack tag inside the head of the view\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-erb\"\n  }), \"<%# app/views/layouts/application.html.erb %>\\n\\n<head>\\n# ...\\n<%= stylesheet_pack_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>\\n# ...\\n</head>\\n\")), mdx(\"br\", null), mdx(\"br\", null), mdx(\"ol\", {\n    \"start\": 5\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Unfortunately, you can\\u2019t really test that everything is working yet. So, let\\u2019s make it work!\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"docker-compose run --rm web rails generate controller static_pages index\\n\")), mdx(\"br\", null), mdx(\"br\", null), mdx(\"p\", null, \"Navigate to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"config/routes.rb\"), \" and add the following\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-ruby\"\n  }), \"Rails.application.routes.draw do\\n  # For details on the DSL available within this file, see https://guides.rubyonrails.org/routing.html\\n  root 'static_pages#index'\\nend\\n\")), mdx(\"br\", null), mdx(\"br\", null), mdx(\"ol\", {\n    \"start\": 6\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Bringing it all together, to ensure everything works as correctly, add a Tailwind\\nclass to an html element.\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-erb\"\n  }), \"<%# app/views/static_pages/index.html.erb %>\\n\\n<%# ... %>\\n<body>\\n  <div class=\\\"text-red-500\\\">\\n    Hello there!\\n  </div>\\n</body>\\n<%# ... %>\\n\")), mdx(\"br\", null), mdx(\"br\", null), mdx(\"p\", null, \"And thats it! You\\u2019re now fully setup with Rails 6, webpack, TailwindCSS, Docker / docker-compose\\nFrom here, its time to start parsing the API content. That will be the next installment\\nI will write!\"), mdx(\"h2\", null, \"Links\"), mdx(\"p\", null, \"Special thanks to Chris @ gorails for his free content.\\nHe helped me with the tailwind setup.\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://gorails.com/episodes/tailwindcss-1-0-with-rails-6\"\n  }), \"Tailwind Setup Video\")), mdx(\"p\", null, \"Docker documentation is fantastic check it out.\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.docker.com/\"\n  }), \"Docker Docs\")), mdx(\"p\", null, \"Check out the Rails docs obviously\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://rubyonrails.org/\"\n  }), \"Rails Docs\")), mdx(\"p\", null, \"Finally, feel free to follow along with my repo. Most of the development will take\\nplace on the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"development branch\"), \".\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/ParamagicDev/ems_helper\"\n  }), \"Github Repo\")), mdx(\"h4\", null, \"EDIT\"), mdx(\"p\", null, \"I create a Rails 6 skeleton for tailwind css \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/ParamagicDev/rails6-skeleton/tree/tailwindcss\"\n  }), \"HERE\")));\n}\n;\nMDXContent.isMDXComponent = true;"}}}}